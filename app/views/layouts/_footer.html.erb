<!-- 3. Footer at bottom... it's sticky -->
<div class="pre-footer">&nbsp;</div>
<footer class="footer">
  <div class="container">
    <div class="footer-text">
      <div class="col-xs-6">
        &copy; 2016
      </div>
      <div class="col-xs-1 text-right">
        <% if logged_in? %>
        <%= link_to "Home",    home_path %>
        <% else %>
        <%= link_to "Login",   root_path %>
        <% end %>
      </div>
      <div class="col-xs-1 text-right">
        <%= link_to "About",    about_path %>
      </div>
      <div class="col-xs-1 text-right">
        <%= link_to "Help",    help_path %>
      </div>
    </div>
  </div>
</footer>

<script>
  $(document).ready(function(){
    /*
      Shorten the banner/header by adjusting CSS elements once the page scroll passes 60px.
      Upon returning to 0-59 pixels, restore all values to default.
    */
    $(window).scroll(function() {
      var x = $(window).scrollTop();
      if (x >= 60) {
        $(".navbar-brand-image").hide();
        $( ".navbar-brand-text" ).replaceWith( "<h1 class=\"navbar-brand-text\">Gift Garden</h1>" );
        $(".navbar-donna").css("height", "68px");
        $(".navbar-donna").css("padding-top", "8px");
        $(".navbar-donna-brand").css("padding", "0px");
        $(".navbar-donna-search").css("margin-top", "5px");
      } else {
        $(".navbar-brand-image").show();
        $( ".navbar-brand-text" ).replaceWith( "<h1 class=\"navbar-brand-text\">Gift<span class=\"line-break\">Garden</span></h1>" );
        $(".navbar-donna").css("height", "");
        $(".navbar-donna").css("padding-top", "");
        $(".navbar-donna-brand").css("padding", "");
        $(".navbar-donna-search").css("margin-top", "");
      }
    });
    
    /* 
      Bottom Align Specific Tags via adding top-margin via calculation of parent DIV height values
      (http://stackoverflow.com/questions/13841387/how-do-i-bottom-align-grid-elements-in-bootstrap-fluid-layout)
    */
    //for each element that is classed as 'pull-down', set its margin-top to the difference between its own height and the height of its parent
    $('.vertical-align-bottom').each(function() {
      var $this = $(this);
      $this.css('margin-top', $this.parent().height() - $this.height())
    });
    
    /*
    This Javascript function enables hyperlink selection of an entire row
    My source for this is my class last term, CSC 495:
    https://github.com/noctrl-csc495-spring2016/Odyssey495/blob/master/app/views/layouts/_footer.html.erb
    */
    $("tr[data-link]").click(function() {
      window.location = this.dataset.link
    })
    
    /*
      Icon Replacement Script
      Upon clicking on a accoridion header, the +/- will switch to the opposite on click
    */
  	$('.collapse').on('shown.bs.collapse', function(){
      $(this).parent().find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus");
    }).on('hidden.bs.collapse', function(){
      $(this).parent().find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus");
    });
  });
  
  function GiftTypeCheck(type) {
    if(type != "Check")
    {
      $("#check_date").fadeOut();
      $("#gift_check_date").fadeOut();
      $("#check_number").fadeOut();
      $("#gift_check_number").fadeOut();
    }
    else
    {
      $("#check_date").fadeIn();
      $("#gift_check_date").fadeIn();
      $("#check_number").fadeIn();
      $("#gift_check_number").fadeIn();
    }
  }
</script>

